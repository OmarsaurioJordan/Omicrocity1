<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>globalvar viw, vih;
viw=view_wview[0]*0.5;
vih=view_hview[0]*0.5;
depth=room_height*-20;
nombre="";
seleccion=14;
spf="";
idioma=0;
sonido=1;
priori=0;//prioridad desbloqueo
dias=0;
years=0;
tictac=false;
lalaclave=false;
elbonus[0]=0;
img_escala=0.5;
audio_master_gain(0);
audio_falloff_set_model(audio_falloff_linear_distance_clamped);
s_parametros();
alarm[0]=1;
alarm[2]=creaciontime+irandom(creaciontime);
alarm[4]=creaciontime*0.5;
alarm[5]=1;
alarm[8]=10;
alarm[9]=creaciontime;
instance_create(mouse_x,mouse_y,ratonlupa);
view_xview[0]=(room_width-view_wview[0])*0.5;
view_yview[0]=(room_height-view_hview[0])*0.5;
pndi=0;//pandemia inicial

mapx=room_width/48;
mapy=room_height/32;
munz=80/room_width;
lienzo=surface_create(mapx,mapy);
s_dibujalienzo();

audio_listener_orientation(0,0,1,0,-1,0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//volver a usar trucos
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>dias+=1;
if(dias&gt;99){
    dias=0;
    years+=1;
    s_logrado(0);
    with(ciudadano){
        if(estado=="libre"){
            if(irandom(2)==0){
                s_actividades(id,"hebrio");
                alarm[1]=actividades[10];}
            else{
                s_actividades(id,"baila");
                alarm[1]=actividades[10]*2;}}}}
alarm[9]=creaciontime;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_master_gain(sonido);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///oscuro para cerrar juego
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>window_set_fullscreen(true);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>spf=string(round(fps_real));
if(tictac){
    tictac=false;}
else{
    tictac=true;}
alarm[5]=room_speed;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>s_acontecimiento(false);
if(pndi&gt;0){//pandemia inicial
    var vb;
    vb=instance_number(humano)-1;
    repeat(pndi){
        with(instance_find(humano,irandom(vb))){
            virus=2;}}
    pndi=0;
    s_notificacion(10,"");}
alarm[4]=creaciontime*0.5+irandom(creaciontime*0.5);
s_desbloqueador();
s_plata(2);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///activo muestra informacion de guardado
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>randomize();
var xx, yy;
xx=12+irandom(round(room_width/24))*24;
yy=8+irandom(round(room_height/16))*16;
instance_create(xx,yy,o_arbol);

if(irandom(2)==0 and (irandom(hardcore*3)==0 or irandom(instance_number(o_arbol))&gt;900)){
    if(!instance_exists(o_animal) and totalescosas[0]&gt;99){
        s_notificacion(11,"");}
    if(irandom(hardcore)==0){
        repeat(1+hardcore){
            s_creanimal(false,true);}}
    else{
        s_creanimal(false,true);}}

if(irandom(5+tabla[14,6]+3*tabla[15,6]+2*tabla[4,6])&gt;5+tabla[12,6]+5*tabla[9,6]){
    s_crearata(false);}

if(irandom(9+tabla[33,6]+tabla[27,6]+tabla[5,6])&gt;9+3*tabla[12,6]){
    if(instance_exists(o_aeropuerto)){
        var ux;
        xx=(room_width*0.5)+(room_height*0.25);
        yy=irandom(359);
        ux=instance_create(room_width*0.5+lengthdir_x(xx,yy),room_height*0.5+lengthdir_y(xx,yy),o_transporte);
        ux.meta=instance_find(o_aeropuerto,irandom(tabla[27,6]-1));
        ux.clase=-1;}}

if(irandom(2)&gt;0){
    s_protesta();}

if(current_month==4 or current_month==5){
    xx=1;}
else{
    xx=0;}
if(irandom(6)==0 or (xx==1 and irandom(6)==0)){
    if(!instance_exists(lalluvia)){
        instance_create(0,0,lalluvia);}}

alarm[2]=creaciontime+irandom(creaciontime);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(o_acueducto){
    if(mienergia&gt;0 and s_congente(id)){
        producto+=4;
        if(producto&gt;16){
            producto=16;}}}
with(o_cultivo){
    activo=false;
    if(tabla[34,6]&gt;0){
        falta=false;}
    else{
        falta=true;}
    if(mienergia&gt;0 and !falta and s_congente(id)){
        var i, aux;
        falta=true;
        for(i=0;i&lt;tabla[34,6];i+=1){
            aux=instance_find(o_acueducto,i);
            if(aux.producto&gt;0){
                aux.producto-=1;
                activo=true;
                falta=false;
                break;}}}}
with(o_restaurante){
    activo=false;
    if(tabla[28,6]&gt;1){
        falta=false;}
    else{
        falta=true;}
    if(mienergia&gt;0 and !falta and s_congente(id)){
        var i, aux, flop;
        flop=0;
        falta=true;
        for(i=0;i&lt;tabla[28,6];i+=1){
            aux=instance_find(o_cultivo,i);
            if(aux.activo){
                flop+=1;}}
        if(flop&gt;1){
            activo=true;
            falta=false;}}}
with(o_mina){
    if(mienergia&gt;0 and s_congente(id)){
        producto+=3;
        if(producto&gt;13){
            producto=13;}}}
with(o_fabrica){
    activo=false;
    if(tabla[38,6]&gt;0){
        falta=false;}
    else{
        falta=true;}
    if(mienergia&gt;0 and !falta and s_congente(id)){
        var i, aux;
        falta=true;
        for(i=0;i&lt;tabla[38,6];i+=1){
            aux=instance_find(o_mina,i);
            if(aux.producto&gt;0){
                aux.producto-=1;
                activo=true;
                falta=false;
                producto+=2;
                if(producto&gt;10){
                    producto=10;}
                break;}}}}
with(o_comercio){
    activo=false;
    if(tabla[6,6]&gt;0){
        falta=false;}
    else{
        falta=true;}
    if(mienergia&gt;0 and !falta and s_congente(id)){
        var i, aux;
        falta=true;
        for(i=0;i&lt;tabla[6,6];i+=1){
            aux=instance_find(o_fabrica,i);
            if(aux.producto&gt;0){
                aux.producto-=1;
                activo=true;
                falta=false;
                break;}}}}
with(o_puerto){
    activo=false;
    if(irandom(2)==0){
        if(tabla[6,6]&gt;0){
            falta=false;}
        else{
            falta=true;}
        if(mienergia&gt;0 and !falta and s_congente(id)){
            var i, aux;
            falta=true;
            for(i=0;i&lt;tabla[6,6];i+=1){
                aux=instance_find(o_fabrica,i);
                if(aux.producto&gt;0){
                    aux.producto-=1;
                    activo=true;
                    falta=false;
                    break;}}}}}
alarm[0]=pidenergia;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(bloques){
    if(object_index==o_turbina or object_index==o_caldera){
        alarm[2]=pidenergia;}
    else if(mienergia&gt;0){
        mienergia-=1;
        if(mienergia==0){
            alarm[0]=-1;
            luces=false;}}}
alarm[1]=1+irandom(4);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var ah_x, ah_y;
ah_x=view_xview[0]+viw;
ah_y=view_yview[0]+vih;
with(estaticos){
    s_ahorrografico(id,ah_x,ah_y,viw+96,vih+96);}
with(o_arbol){
    s_ahorrografico(id,ah_x,ah_y,viw+96,vih+96);}
with(aereo){
    s_ahorrografico(id,ah_x,ah_y,viw+96,vih+96+m_altura);}
with(etereo){
    s_ahorrografico(id,ah_x,ah_y,viw+96,vih+96);}
audio_listener_position(ah_x,ah_y,-32);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var xx, yy;
xx = view_xview[0];
yy = view_yview[0];

if(mouse_check_button_pressed(mb_left) and instance_exists(ratonlupa)){
    if(point_distance(ratonlupa.x, ratonlupa.y, xx + 37,yy + 400) &lt; m_radiobuton){
        s_limpiagui();
        instance_create(mouse_x, mouse_y, ratoncalles);
        audio_play_sound(a_cambio, 20, false);
    }
    else if(point_distance(ratonlupa.x, ratonlupa.y, xx + 74,yy + 400) &lt; m_radiobuton){
        s_limpiagui();
        instance_create(mouse_x, mouse_y, ratonedificios);
        audio_play_sound(a_cambio, 20, false);
    }
    else if(point_distance(ratonlupa.x, ratonlupa.y, xx + 37,yy + 448) &lt; m_radiobuton){
        s_limpiagui();
        instance_create(0, 0, organizador);
        audio_play_sound(a_cambio, 20, false);
    }
    else if(point_distance(ratonlupa.x, ratonlupa.y, xx + 74,yy + 448) &lt; m_radiobuton){
        if(instance_exists(o_player)){
            s_limpiagui();
            o_player.activo = true;
            view_object[0]=o_player;
            view_hborder[0]=220;
            view_vborder[0]=220;
            if(!audio_is_playing(a_ordenlider)){
                audio_play_sound(a_ordenlider, 20, false);
            }
            if(instance_exists(o_lider)){
                o_player.x = o_lider.x;
                o_player.y = o_lider.y;
                s_actividades(o_lider,"manual");
            }
        }
    }
    else if(point_distance(ratonlupa.x, ratonlupa.y, xx + 37,yy + 496) &lt; m_radiobuton){
        if(instance_exists(o_laboratorio)){
            s_limpiagui();
            instance_create(view_xview[0] + viw, view_yview[0] + vih, o_camara);
            audio_play_sound(a_cambio, 20, false);
        }
    }
    else if(point_distance(ratonlupa.x, ratonlupa.y, xx + 74,yy + 496) &lt; m_radiobuton){
        if(!instance_exists(organizador)){
            if(nombre == ""){
                s_limpiagui();
                var aux;
                aux = instance_create(0, 0, organizador);
                aux.escribe = true;
                audio_play_sound(a_cambio, 20, false);
            }
            else{
                s_guardando(nombre, true);
            }
        }
    }
    else if(mouse_x &gt; xx + 16 and mouse_y &gt; yy + 35 and mouse_x &lt; xx + 16 + 80 and
            mouse_y &lt; yy + 35 + room_height * munz){
        var ux, uy;
        ux = ((mouse_x - xx - 16) / munz) - viw;
        uy = ((mouse_y - yy - 35) / munz) - vih;
        if(ux &lt; 0){
            ux = 0;
        }
        else if(ux &gt; room_width - view_wview[0]){
            ux = room_width - view_wview[0];
        }
        if(uy &lt; 0){
            uy = 0;
        }
        else if(uy &gt; room_height - view_hview[0]){
            uy = room_height - view_hview[0];
        }
        view_xview[0] = ux;
        view_yview[0] = uy;
    }
}
else if(keyboard_check_pressed(vk_anykey)){
    switch(keyboard_key){
        case vk_f1:
            if(idioma == 1){
                idioma = 0;
            }
            else{
                idioma = 1;
            }
            s_idiomas(idioma);
            audio_play_sound(a_grancambio, 20, false);
        break;
        case vk_f4:
            if(window_get_fullscreen()){
                window_set_fullscreen(false);
                s_cuadraventana();
            }
            else{
                window_set_fullscreen(true);
            }
            audio_play_sound(a_grancambio, 20, false);
        break;
        case vk_escape:
            if(instance_exists(ratonlupa)){
                if(ratonlupa.viejo == true){
                    if(alarm[7] == -1){
                        alarm[7] = room_speed;
                    }
                    else{
                        game_end();
                    }
                }
            }
        break;
        case vk_enter:
            if(!instance_exists(organizador) and !instance_exists(o_logros)){
                if(nombre == ""){
                    s_limpiagui();
                    var aux;
                    aux = instance_create(0, 0, organizador);
                    aux.escribe = true;
                    audio_play_sound(a_cambio, 20, false);
                }
                else{
                    s_guardando(nombre, true);
                }
            }
        break;
        case vk_f10:
            if(ensayo){
                ensayo = false;
            }
            else{
                ensayo = true;
            }
            audio_play_sound(a_grancambio, 20, false);
        break;
        case ord('I'):
            if(!instance_exists(organizador)){
                if(window_get_fullscreen()){
                    window_set_fullscreen(false);
                    s_cuadraventana();
                }
                else{
                    var elfile;
                    elfile = get_save_filename("PNG|*.png", "image.png");
                    if(elfile != ""){
                        screen_save(elfile);
                        audio_play_sound(a_okey, 20, false);
                    }
                }
            }
        break;
        case ord('J'):
            if(instance_exists(ratonlupa) or instance_exists(o_camara)){
                if(window_get_fullscreen()){
                    window_set_fullscreen(false);
                    s_cuadraventana();
                }
                else{
                    var elfile;
                    if(nombre != ""){
                        elfile = get_save_filename("PNG|*.png", nombre + ".png");
                    }
                    else{
                        elfile = get_save_filename("PNG|*.png", "city.png");
                    }
                    if(elfile != ""){
                        s_dibujamapa(elfile);
                        audio_play_sound(a_okey, 20, false);
                    }
                }
                
            }
        break;
        case ord('1'):
            if(instance_exists(ratonlupa)){
                s_limpiagui();
                instance_create(mouse_x, mouse_y, ratoncalles);
                audio_play_sound(a_cambio, 20, false);
            }
        break;
        case ord('2'):
            if(instance_exists(ratonlupa)){
                s_limpiagui();
                instance_create(mouse_x, mouse_y, ratonedificios);
                audio_play_sound(a_cambio, 20, false);
            }
        break;
        case ord('3'):
            if(instance_exists(ratonlupa)){
                s_limpiagui();
                instance_create(0, 0, organizador);
                audio_play_sound(a_cambio, 20, false);
            }
        break;
        case ord('4'):
            if(instance_exists(ratonlupa)){
                if(instance_exists(o_player)){
                    s_limpiagui();
                    o_player.activo = true;
                    view_object[0]=o_player;
                    view_hborder[0]=220;
                    view_vborder[0]=220;
                    if(!audio_is_playing(a_ordenlider)){
                        audio_play_sound(a_ordenlider, 20, false);
                    }
                    if(instance_exists(o_lider)){
                        o_player.x = o_lider.x;
                        o_player.y = o_lider.y;
                        s_actividades(o_lider,"manual");
                    }
                }
            }
        break;
        case ord('5'):
            if(instance_exists(ratonlupa)){
                if(instance_exists(o_laboratorio)){
                    s_limpiagui();
                    instance_create(view_xview[0] + viw, view_yview[0] + vih, o_camara);
                    audio_play_sound(a_cambio, 20, false);
                }
            }
        break;
        case ord('9'):
            if(instance_exists(ratonlupa)){
                if(room_speed &lt; 60){
                    room_speed += 10;
                }
                else{
                    room_speed = 20;
                }
                audio_play_sound(a_speed, 20, false);
            }
        break;
        case ord('P'):
            if(instance_exists(ratonlupa)){
                if(sonido &lt; 1){
                    sonido += 0.1;
                }
                audio_master_gain(sonido);
            }
        break;
        case ord('O'):
            if(instance_exists(ratonlupa)){
                if(sonido &gt; 0){
                    sonido -= 0.1;
                }
                audio_master_gain(sonido);
            }
        break;
        case ord('T'):
            if(instance_exists(ratonlupa)){
                if(!instance_exists(todoinfo)){
                    instance_create(0, 0, todoinfo);
                }
            }
        break;
        
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(nombre!=""){
    s_guardando(nombre,false);}
part_type_destroy(p_humo);
part_type_destroy(p_vapor);
part_type_destroy(p_fuego);
part_type_destroy(p_agua);
part_type_destroy(p_explosion);
part_type_destroy(p_morado);
part_type_destroy(p_lluvia);
keyboard_unset_map();
ini_open("config_omty.ini");
ini_write_string("configuracion","idioma",string(idioma));
ini_write_string("configuracion","sonido",string(sonido));
ini_write_string("configuracion","traspaso",string(traspaso));
ini_write_string("configuracion","prioridesbloqueo",string(priori));
ini_write_string("configuracion","hacecuanto",date_date_string(date_current_datetime()));
if(window_get_fullscreen()){
    ini_write_string("configuracion","full","1");}
else{
    ini_write_string("configuracion","full","0");}
ini_close();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i, xx, yy, rta, zca, elplayer;
rta=true;
xx=view_xview[0];
yy=view_yview[0];
elplayer = false;

if(instance_exists(o_player)){
    if(o_player.activo){
        elplayer = true;
    }
}

if(instance_exists(ratonlupa)){
    for(i=0;i&lt;4;i+=1){
        draw_sprite(d_gui,0,xx,yy+i*136);}
    draw_set_halign(fa_left);
    draw_set_valign(fa_top);
    draw_text_colour(xx+8,yy+16,nombre,c_blue,c_blue,c_blue,c_blue,1);
    draw_text_transformed_colour(xx+8,yy+100,encabezados[0],0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+124,encabezados[1]+"#$"+string(fondos),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+148,encabezados[7]+"#$"+string(totalescosas[5]),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+172,encabezados[2]+"#"+string(totalescosas[0]),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+196,encabezados[9]+"#"+string(totalescosas[7]),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+220,encabezados[3]+":#"+string(totalescosas[1]),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+244,encabezados[4]+"#"+string(totalescosas[2]),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+268,encabezados[5]+"#"+string(totalescosas[3]),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+292,encabezados[6]+"#"+string(totalescosas[4]),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+316,encabezados[8]+"#"+string(totalescosas[6]),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+340,encabezados[11]+"#"+string(totalescosas[8]),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    zca=1;
    if(point_distance(ratonlupa.x,ratonlupa.y,xx+37,yy+400)&lt;m_radiobuton){
        zca=1.2;}
    draw_sprite_ext(d_botones,13,xx+37,yy+400,zca,zca,0,-1,1);
    zca=1;
    if(point_distance(ratonlupa.x,ratonlupa.y,xx+74,yy+400)&lt;m_radiobuton){
        zca=1.2;}
    draw_sprite_ext(d_botones,14,xx+74,yy+400,zca,zca,0,-1,1);
    zca=1;
    if(point_distance(ratonlupa.x,ratonlupa.y,xx+37,yy+448)&lt;m_radiobuton){
        zca=1.2;}
    draw_sprite_ext(d_botones,15,xx+37,yy+448,zca,zca,0,-1,1);
    if(instance_exists(o_player)){
        zca=1;
        if(point_distance(ratonlupa.x,ratonlupa.y,xx+74,yy+448)&lt;m_radiobuton){
            zca=1.2;}
        draw_sprite_ext(d_botones,16,xx+74,yy+448,zca,zca,0,-1,1);}
    else{
        draw_sprite_ext(d_botones,16,xx+74,yy+448,1,1,0,-1,0.5);}
    if(instance_exists(o_laboratorio)){
        zca=1;
        if(point_distance(ratonlupa.x,ratonlupa.y,xx+37,yy+496)&lt;m_radiobuton){
            zca=1.2;}
        draw_sprite_ext(d_botones,17,xx+37,yy+496,zca,zca,0,-1,1);}
    else{
        draw_sprite_ext(d_botones,17,xx+37,yy+496,1,1,0,-1,0.5);}
    zca=1;
    if(point_distance(ratonlupa.x,ratonlupa.y,xx+74,yy+496)&lt;m_radiobuton){
        zca=1.2;}
    draw_sprite_ext(d_botones,18,xx+74,yy+496,zca,zca,0,-1,1);
    draw_text_transformed_colour(xx+8,yy+524,"(T):info",0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    //aqui se dibuja el minimapa
    if(surface_exists(lienzo)){
        draw_surface_ext(lienzo,xx+16,yy+35,48*munz,32*munz,0,-1,1);}
    draw_rectangle_colour(xx+16+xx*munz,yy+35+yy*munz,xx+16+(xx+view_wview[0])*munz,yy+35+(yy+view_hview[0])*munz,
        c_maroon,c_maroon,c_maroon,c_maroon,true);
    draw_rectangle_colour(xx+16,yy+35,xx+16+room_width*munz,yy+35+room_height*munz,c_green,c_green,c_green,c_green,true);
    draw_point_colour(xx+16+mouse_x*munz,yy+35+mouse_y*munz,c_red);
    //esquina derecha
    if(ratonlupa.stop){
        rta=false;
        if(tictac and !ensayo){
            draw_sprite(d_botones,29,xx+view_wview[0]-8,yy+8);}}
    else if(!ensayo){
        draw_sprite(d_botones,29,xx+view_wview[0]-8,yy+8);}
    if(instance_exists(todoinfo)){
        draw_set_halign(fa_center);
        draw_set_valign(fa_middle);
        draw_set_alpha(0.75);
        draw_rectangle_colour(xx+view_wview[0]*0.2,yy+view_hview[0]*0.2,xx+view_wview[0]*0.8,yy+view_hview[0]*0.8,c_white,c_white,c_white,c_white,false);
        draw_set_alpha(1);
        draw_text_ext_transformed_colour(xx+viw,yy+vih,fullinf,-1,view_wview[0]*0.6,0.8,0.8,0,c_black,c_black,c_black,c_black,1);}}

else if(instance_exists(ratonedificios)){
    for(i=0;i&lt;4;i+=1){
        draw_sprite(d_gui,0,xx,yy+i*136);}
    draw_set_halign(fa_left);
    draw_set_valign(fa_top);
    draw_text_transformed_colour(xx+8,yy+524,"(T):info",0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+8,"$"+string(fondos),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    var rtn;
    rtn=instance_find(ratonedificios,0);
    if(rtn.seleccion==-1){
        draw_sprite_ext(d_bulldozer,0,xx+56,yy+56,0.8,0.8,0,-1,1);
        if(fondos&gt;=preciobulldozer){
            draw_text_transformed_colour(xx+8,yy+120,titulos[2]+"##$"+string(preciobulldozer),0.9,0.9,0,c_blue,c_blue,c_blue,c_blue,1);}
        else{
            draw_text_transformed_colour(xx+8,yy+120,titulos[2]+"##$"+string(preciobulldozer),0.9,0.9,0,c_red,c_red,c_red,c_red,1);}}
    else{
        if(dispo[rtn.seleccion]==1){
            draw_sprite_ext(d_ideales,rtn.seleccion,xx+56,yy+56+20,0.5,0.5,0,c_white,1);}
        else{
            draw_sprite_ext(d_ideales,rtn.seleccion,xx+56,yy+56+20,0.5,0.5,0,c_black,1);}
        draw_set_halign(fa_right);
        draw_text_transformed_colour(xx+96,yy+96,string(tabla[rtn.seleccion,6]),0.8,0.8,0,c_blue,c_blue,c_blue,c_blue,1);
        draw_set_halign(fa_left);
        draw_text_transformed_colour(xx+8,yy+120,string(rtn.seleccion+1)+"."+laname[rtn.seleccion]+":",0.7,0.7,0,c_black,c_black,c_black,c_black,1);
        if(rtn.seleccion==14 and tabla[14,6]==0){
            draw_text_transformed_colour(xx+8,yy+144,"$0",0.8,0.8,0,c_blue,c_blue,c_blue,c_blue,1);}
        else{
            if(fondos&gt;=tabla[rtn.seleccion,5]){
                draw_text_transformed_colour(xx+8,yy+144,"$"+string(tabla[rtn.seleccion,5]),0.8,0.8,0,c_blue,c_blue,c_blue,c_blue,1);}
            else{
                draw_text_transformed_colour(xx+8,yy+144,"$"+string(tabla[rtn.seleccion,5]),0.8,0.8,0,c_red,c_red,c_red,c_red,1);}}
        if(tabla[rtn.seleccion,4]&lt;0){
            draw_text_transformed_colour(xx+8,yy+168,"e: +"+string(abs(tabla[rtn.seleccion,4])),0.8,0.8,0,c_black,c_black,c_black,c_black,1);}
        else{
            draw_text_transformed_colour(xx+8,yy+168,"e: -"+string(tabla[rtn.seleccion,4]),0.8,0.8,0,c_black,c_black,c_black,c_black,1);}
        if(object_is_ancestor(tabla[rtn.seleccion,0],humano)){
            draw_text_transformed_colour(xx+8,yy+180,encabezados[2]+" +"+string(tabla[rtn.seleccion,1]+tabla[rtn.seleccion,3]),0.7,0.7,0,c_black,c_black,c_black,c_black,1);}
        else{
            draw_text_transformed_colour(xx+8,yy+180,encabezados[2]+" +0",0.7,0.7,0,c_black,c_black,c_black,c_black,1);}
        draw_text_transformed_colour(xx+8,yy+192,encabezados[17]+ganancia[rtn.seleccion],0.7,0.7,0,c_black,c_black,c_black,c_black,1);
        if(dispo[rtn.seleccion]==1){
            draw_text_ext_transformed_colour(xx+8,yy+216,lainfo[rtn.seleccion],-1,96,0.7,0.7,0,c_black,c_black,c_black,c_black,1);}
        else{
            draw_text_transformed_colour(xx+8,yy+216,encabezados[16]+requisitos[rtn.seleccion],0.7,0.7,0,c_black,c_black,c_black,c_black,1);
            draw_set_halign(fa_center);
            draw_text_colour(xx+56,yy+56+10,encabezados[12],c_red,c_red,c_red,c_red,1);}
        zca=0.75;
        if(point_distance(mouse_x,mouse_y,xx+56,yy+view_hview[0]-80)&lt;m_radiobuton){
            zca=0.95;}
        draw_sprite_ext(d_bulldozer,0,xx+56,yy+view_hview[0]-80,zca,zca,0,-1,1);
        draw_set_halign(fa_center);
        draw_text_transformed_colour(xx+56,yy+view_hview[0]-64,encabezados[10],0.7,0.7,0,c_black,c_black,c_black,c_black,1);}
    draw_rectangle_colour(xx + 110, yy + rtn.seleccion*8 + 128, xx + 112, yy + rtn.seleccion*8 + 136,c_black,c_black,c_black,c_black, false);
    zca=1;
    if(point_distance(mouse_x,mouse_y,xx+56,yy+view_hview[0]-32)&lt;m_radiobuton){
        zca=1.2;}
    draw_sprite_ext(d_botones,19,xx+56,yy+view_hview[0]-32,zca,zca,0,-1,1);
    if(instance_exists(o_gobernacion)){
        draw_set_valign(fa_middle);
        draw_set_halign(fa_right);
        if(tabla[12,6]&gt;0){
            draw_sprite(d_venta,0,xx+280,yy);
            rtn=2*tabla[12,6]*nuevaunidad
            if(fondos&gt;=rtn){
                draw_text_transformed_colour(xx+280-48,yy+22,encabezados[13]+string(rtn),0.6,0.6,0,c_blue,c_blue,c_blue,c_blue,1);}
            else{
                draw_text_transformed_colour(xx+280-48,yy+22,encabezados[13]+string(rtn),0.6,0.6,0,c_red,c_red,c_red,c_red,1);}}
        if(tabla[3,6]&gt;0){
            draw_sprite(d_venta,1,xx+390,yy);
            rtn=2*tabla[3,6]*nuevaunidad
            if(fondos&gt;=rtn){
                draw_text_transformed_colour(xx+390-48,yy+22,encabezados[14]+string(rtn),0.6,0.6,0,c_blue,c_blue,c_blue,c_blue,1);}
            else{
                draw_text_transformed_colour(xx+390-48,yy+22,encabezados[14]+string(rtn),0.6,0.6,0,c_red,c_red,c_red,c_red,1);}}
        if(tabla[35,6]&gt;0){
            draw_sprite(d_venta,2,xx+500,yy);
            rtn=2*tabla[35,6]*nuevaunidad
            if(fondos&gt;=rtn){
                draw_text_transformed_colour(xx+500-48,yy+22,encabezados[15]+string(rtn),0.6,0.6,0,c_blue,c_blue,c_blue,c_blue,1);}
            else{
                draw_text_transformed_colour(xx+500-48,yy+22,encabezados[15]+string(rtn),0.6,0.6,0,c_red,c_red,c_red,c_red,1);}}}
    if(dispo[0]+dispo[1]+dispo[2]&lt;2){
        draw_set_valign(fa_top);
        draw_set_halign(fa_left);
        var jkkk;
        jkkk="";
        switch(priori){
            case 0: jkkk=laname[0]+"#"+laname[1]+"#"+laname[2]; break;
            case 1: jkkk=laname[0]+"#"+laname[2]+"#"+laname[1]; break;
            case 2: jkkk=laname[1]+"#"+laname[2]+"#"+laname[0]; break;
            case 3: jkkk=laname[1]+"#"+laname[0]+"#"+laname[2]; break;
            case 4: jkkk=laname[2]+"#"+laname[0]+"#"+laname[1]; break;
            case 5: jkkk=laname[2]+"#"+laname[1]+"#"+laname[0]; break;}
        draw_sprite(d_venta,3,xx+610,yy);
        draw_text_transformed_colour(xx+510,yy+4,"(R)"+encabezados[18]+jkkk,0.6,0.6,0,c_black,c_black,c_black,c_black,1);}
    else if(instance_exists(o_laboratorio)){
        draw_set_valign(fa_middle);
        draw_set_halign(fa_right);
        draw_sprite(d_venta,4,xx+610,yy);
        rtn=6*nuevaunidad;
        if(fondos&gt;=rtn and instance_exists(o_bombardero)){
            draw_text_transformed_colour(xx+610-40,yy+22,encabezados[19]+string(rtn),0.6,0.6,0,c_blue,c_blue,c_blue,c_blue,1);}
        else{
            draw_text_transformed_colour(xx+610-40,yy+22,encabezados[19]+string(rtn),0.6,0.6,0,c_red,c_red,c_red,c_red,1);}}
    if(instance_exists(todoinfo)){
        draw_sprite(d_desbloqueos,idioma,xx+48,yy+30);
        for(i=0;i&lt;m_construcciones;i+=1){
            if(dispo[i]==0){
                draw_sprite_ext(d_rayodesblock,i,xx+48,yy+30,8,8,0,-1,1);}}}}

else if(instance_exists(ratoncalles)){
    for(i=0;i&lt;4;i+=1){
        draw_sprite(d_gui,0,xx,yy+i*136);}
    draw_set_halign(fa_left);
    draw_set_valign(fa_top);
    draw_text_transformed_colour(xx+8,yy+524,"(T):info",0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+8,yy+8,"$"+string(fondos),0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_sprite(d_unacalle,0,xx+56,yy+56+20);
    if(fondos&gt;=preciocalles){
        draw_text_transformed_colour(xx+8,yy+120,"$"+string(preciocalles),0.8,0.8,0,c_blue,c_blue,c_blue,c_blue,1);}
    else{
        draw_text_transformed_colour(xx+8,yy+120,"$"+string(preciocalles),0.8,0.8,0,c_red,c_red,c_red,c_red,1);}
    draw_text_ext_transformed_colour(xx+8,yy+144,unacalle,-1,98,0.7,0.7,0,c_black,c_black,c_black,c_black,1);
    zca=1;
    if(point_distance(mouse_x,mouse_y,xx+56,yy+view_hview[0]-32)&lt;m_radiobuton){
        zca=1.2;}
    draw_sprite_ext(d_botones,19,xx+56,yy+view_hview[0]-32,zca,zca,0,-1,1);
    if(instance_exists(todoinfo)){
        draw_sprite(d_desbloqueos,2,xx+48,yy+30);}}

else if(instance_exists(o_camara)){
    rta=false;
    draw_sprite(d_botones,8,xx+24,yy+24);
    draw_sprite(d_botones,25,xx+24,yy+88);
    draw_sprite(d_botones,19,xx+24,yy+view_hview[0]-24);}

else if(elplayer){
    rta=false;
    draw_sprite(d_gui,1,xx,yy+view_hview[0]-136);
    draw_sprite(d_gui,1,xx,yy+view_hview[0]-272);
    draw_sprite(d_botones,31,xx+35,yy+view_hview[0]-234);
    draw_sprite(d_botones,23,xx+35,yy+view_hview[0]-164);
    draw_sprite(d_botones,22,xx+35,yy+view_hview[0]-88);
    draw_sprite(d_botones,19,xx+35,yy+view_hview[0]-28);}

else if(instance_exists(organizador)){
    draw_set_halign(fa_center);
    draw_set_valign(fa_top);
    draw_text_transformed_colour(xx+viw,yy+32,"OMICROCITY",2.5,2.5,0,c_maroon,c_maroon,c_maroon,c_maroon,1);
    draw_text_colour(xx+view_wview[0]*0.65,yy+80,"v1."+string(m_version),c_maroon,c_maroon,c_maroon,c_maroon,1);
    draw_set_halign(fa_right);
    draw_set_valign(fa_bottom);
    draw_text_colour(xx+view_wview[0]-8,yy+view_hview[0]-8,"Omwekiatl 2016#Larva y Absens (voces)",c_black,c_black,c_black,c_black,1);}


if(ensayo){
    draw_set_halign(fa_right);
    draw_set_valign(fa_top);
    draw_text_transformed_colour(xx+view_wview[0]-8,yy+8,"F10:debug",0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+view_wview[0]-8,yy+24,spf+":fps",0.8,0.8,0,c_black,c_black,c_black,c_black,1);}

else{
    draw_set_halign(fa_right);
    draw_set_valign(fa_top);
    draw_text_transformed_colour(xx+view_wview[0]-128,yy+8,string(years)+":A",0.8,0.8,0,c_black,c_black,c_black,c_black,1);
    draw_text_transformed_colour(xx+view_wview[0]-64,yy+8,string(dias)+":D",0.8,0.8,0,c_black,c_black,c_black,c_black,1);}

if(alarm[7]!=-1){
    draw_set_alpha(0.2+(alarm[7]/room_speed)*0.6);
    draw_rectangle_colour(xx,yy,xx+view_wview[0],yy+view_hview[0],c_black,c_black,c_black,c_black,false);
    draw_set_alpha(1);}

if(alarm[3]!=-1){
    draw_sprite_ext(d_botones,20,xx+viw,yy+vih,2,2,0,-1,1);}

if(rta){
    draw_sprite(d_raton,0,mouse_x,mouse_y);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
